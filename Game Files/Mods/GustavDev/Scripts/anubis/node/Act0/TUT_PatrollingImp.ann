game.states.TUT_ImpLooter_Patrol = State{
    function()
        params.waitTime = {type = EParamType.Number, required = false, default = 6.0, help = [[Wait time.]]}
        params.patrolSpline = {type = EParamType.String, required = true, help = [[Patrol spline.]]}

        local bWait = false
        local spPatrol = Spline(params.patrolSpline)

        self.OnInit = function()
            SetWeaponUnsheathed(me,true)
        end

        self.Valid = function()
            return bWait
        end

        self.OnLeave = function()
            bWait = false
        end

        nodes.Action_Wait = Action{
            function()
                LookFrom(spPatrol)
                Sleep(params.waitTime)
                bWait = false
            end
        }

        events.SplineControlPointReached = function(e)
            if e.Event == "Wait" then
                bWait = true
            end
        end
    end
}