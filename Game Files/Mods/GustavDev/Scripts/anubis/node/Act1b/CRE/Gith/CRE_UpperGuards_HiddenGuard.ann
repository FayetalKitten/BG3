game.states.CRE_UpperGuards_HiddenGuard = State{function()
    description = [[Hidden guards behaviour]]
    modules = {"shared.dialog"}

    ------------------------------------------------
    -- Params
    ------------------------------------------------

    ------------------------------------------------
    -- Local State variables
    local repeatedAD = Dialog("CRE_UpperGuards_AD_HiddenCheckpointChatter_d234f1a5-7d24-9949-de2d-33680a374cef")

    local secondNPC = Entity("S_CRE_HiddenCheckpointWarningGuard_970d10ed-8092-463b-8446-223fe4cf2d68")
    ------------------------------------------------ 

    ------------------------------------------------
    -- Helper functions
    ------------------------------------------------
 
    ------------------------------------------------
    -- State (self) node functions
    ------------------------------------------------
    
    ------------------------------------------------
    -- Nodes

    -- Action
    -- Unless killed, the guards keep talking with a rate limited AD
    nodes.Action_ADLoop = Action{
        function()
            mod.dialog.StartCheckedAutomatedDialogRateLimited(
                    repeatedAD,
                    {
                        waitForCompletion = true,
                        minDelay = 12.0,
                    },
                    me,
                    secondNPC
                )
        end,

        Valid = function()
            return true
        end
    }

    ------------------------------------------------
    
    ------------------------------------------------
    -- Events
    ------------------------------------------------

end
}