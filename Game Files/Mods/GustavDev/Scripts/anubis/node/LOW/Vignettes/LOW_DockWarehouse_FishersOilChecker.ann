game.states.LOW_DockWarehouse_FishersOilChecker = State{function()

    local oilRemovedFlag = Flag("LOW_DockWarehouse_Fishers_State_OilRemoved_708209b0-2e50-448e-8058-46a532f8484b")
    
    nodes.CheckOilSurface = Action {

        function()
            Sleep(1)
            if(FindSurface(me,0.0,3.0,SurfaceType.OIL,1) == nil) then
                SetFlag(oilRemovedFlag, nil)
            else
                DebugText(me,"The oil is fine")
            end
        end,

        Valid = function()
            return not GetFlag(oilRemovedFlag)
        end
    }

    nodes.Fallback = Action{
        function()
            WaitForInterrupt()
        end
    }
end}