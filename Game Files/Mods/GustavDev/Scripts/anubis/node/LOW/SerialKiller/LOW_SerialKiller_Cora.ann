game.states.LOW_SerialKiller_Cora = State{function ()

    --------------------------------Modules--------------------------------

    modules = {"shared.dialog", "shared.moveto"}

    --------------------------------Parameters--------------------------------

    params.CharacterAD = {type = EParamType.String, help = "[[Character AD for Cora Highberry]]", required = true }
    params.WanderPoint = {type = EParamType.String, help = "[[Point to wander around]]", required = true }
    --------------------------------Variables--------------------------------

    local localCharacterAD = Dialog(params.CharacterAD)
    local localWanderPoint = Entity(params.WanderPoint)
    local WineFestivalFlag = Flag("LOW_SerialKiller_State_WineFestival_a83198eb-b080-4001-bd00-d8368f1334a5")
    local isSitting = false

    --------------------------------Nodes--------------------------------

    nodes = Selector {
        function(nodes)
            return FindDifferentRandomSelectable(nodes)
        end
    }

    nodes.Wander = Action {
        function()
            Wander(5.0, 4.0, MovementSpeed.Walk, localWanderPoint)
            mod.dialog.StartCheckedAutomatedDialog(
                localCharacterAD,
                {
                    waitForCompletion = true
                },
                me
            )
            Sleep(10 + 10 * math.random())
            Wander(5.0, 4.0, MovementSpeed.Walk, localWanderPoint)

        end,
        CanEnter = function()
            return not GetFlag(WineFestivalFlag)
        end,
    }

    nodes.AD = Action {
        function()
            mod.dialog.StartCheckedAutomatedDialog(
                localCharacterAD,
                {
                    waitForCompletion = true
                },
                me
            )
            Sleep(20)
        end,
        CanEnter = function()
            return not Getflag(WineFestivalFlag)
        end
    }

    nodes.WinefestivalIdle = Action {
        function()
            WaitForInterrupt()
        end,
        CanEnter = function()
            return GetFlag(WineFestivalFlag)
        end,
        Valid = function()
            return GetFlag(WineFestivalFlag)
        end
    }


end
}