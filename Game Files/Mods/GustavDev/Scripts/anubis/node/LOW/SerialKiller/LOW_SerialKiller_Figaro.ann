game.states.LOW_SerialKiller_Figaro = State{function ()

    --------------------------------Modules--------------------------------

    modules = {"shared.dialog", "shared.moveto"}

    --------------------------------Variables--------------------------------

    local localInspectPoint = Entity("S_LOW_SerialKiller_Figaro_InspectingPoint_4eed9716-7118-4378-a086-e5b8ee7cc6b4")
    local inspectAnimation = Animation("CUST_Looking_Around_Cargo_01_b78b8e8d-6849-4cf2-bf0e-55384af851cb")
    local timelineTrigger = Entity("BHVR_WRLD_LOW_Figaro_WritingBook_TimelineTrigger_06ddce51-8bab-4dc7-a1e6-6805084c6e05").Trigger
    local behaviourDialog = Dialog("BHVR_WRLD_GLO_WritingOnBook_DWR_M_3532dd48-697e-3841-99dd-66d2422a7213")
    local localWritingPoint = Entity("S_LOW_SerialKiller_Figaro_WritingPoint_608841b7-65d3-43fa-a6a6-cdd964cdbb8b")

    --------------------------------Nodes--------------------------------

    nodes = Selector {
        function(nodes)
            return FindDifferentRandomSelectable(nodes)
        end
    }

    nodes.Wander = Proxy {
        game.states.GEN_Wander,
        params = {
            wanderMin = 5,
            wanderMax = 15,
            sleepMin = 3,
            sleepMax = 10,
            trigger = [[LOW_SerialKiller_Figaro_BackstoreWanderPoint_fc15ef62-5426-4388-a789-edbf83e0ec1b]]
        }
    }

    nodes.WritingInbook = Action {
        function()
            if mod.moveto.MoveToPoint(localWritingPoint, MovementSpeed.Stroll, me) then
                StartBehaviorDialog(behaviourDialog, timelineTrigger, true, me)
                Sleep(5 + 5 * math.random())
            else
                SteerTo(Trigger)
            end

        end
    }

    nodes.InspectClothes = Action {
        function()
            if mod.moveto.MoveToPoint(localInspectPoint,  MovementSpeed.Walk, me) then
                PlayAnimation(inspectAnimation)
                Sleep(10)
            else
                SteerTo(localInspectPoint)
                Sleep(5)
            end

        end
    }

end
}