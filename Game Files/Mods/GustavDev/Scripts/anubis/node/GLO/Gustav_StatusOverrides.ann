game.actions.statusOverrides.HAG_MASK_CONTROLLED = Action
{
    function()
        local HAG_HagLair
        local HAG_Masks_WanderTrigger 
        if CheckCurrentGameLevel("WLD_Main_A") then 
            HAG_HagLair = Entity("S_HAG_HagLair_f84e3319-4a1d-483c-a718-dee3bff70d07")
            HAG_Masks_WanderTrigger = Entity("S_HAG_Masks_WanderTrigger_e44f657c-59a0-4b85-9b9a-cb8999da50d0")
            if IsInTrigger(me, HAG_HagLair.Trigger) then
                try 
                    Wander(HAG_Masks_WanderTrigger, 6.0)
                catch e if ls.CheckType(e, error.MovementFailed) then
                    Wander(3.0, 6.0)
                end
                Sleep(6.0)
            else
                WaitForInterrupt()
            end
        else
            WaitForInterrupt()
        end            
    end,
    Valid = function(node)
        return
            HasActiveStatus(me, "HAG_MASK_CONTROLLED") and
            not me.IsInCombat
    end
    ,
    Priority = 486000
}