game.states.WYR_RefugeeCamp_Refugee_14_Patch6 = State { function ()
    description = [[ A behaviour for a refugee whos friend is wounded. ]]

    modules = { "shared.dialog" }

    local tieflingsAreNotPresentFlag = Flag("WYR_RefugeeCamp_State_NoTieflingsCamp_6947d1af-e1a1-47bf-833e-10dca6311be7")
    local halfOrc = Entity("S_WYR_RefugeeCamp_WoundedRefugee_7799795e-1477-4857-8cb7-ca5db3c50f47")

    nodes.AtCamp = Proxy {
        game.states.WYR_RefugeeCamp_BasicRefugee,
        params = {
            AD = [[WYR_RefugeeCamp_AD_WoundedRefugeeFriends_00d54f0f-b281-3415-59da-2f83a62204d7]],
            pairNPCs = {
                [[S_WYR_RefugeeCamp_Refugee_15_92801b00-ec09-4d0d-990b-960c07de43e3]],
            },
            trigger = [[S_WYR_RefugeeCamp_Refugee_14_CampPos_2ca8ee54-8921-46b9-9ea3-ee843a652118]],
            animStart = [[CUST_WarmingByFire_01_Start_901742e2-f648-42cb-bfa1-4b5e55e58479]],
            animEnd = [[CUST_WarmingByFire_01_End_bcbfc7ca-11b4-44ad-b73e-f3d4862e86c5]],
            animLoops = {
                [[CUST_WarmingByFire_01_Loop_e2d0b8f4-00ae-49a4-a878-a9841fd78a96]],
            }
        },
        Valid = function()
            return not GetFlag(tieflingsAreNotPresentFlag) and not halfOrc.Character.IsDead
        end
    }

    nodes.AtBackupPos = Proxy {
        game.states.WYR_RefugeeCamp_BasicRefugee,
        params = {
            AD = [[WYR_RefugeeCamp_AD_WoundedRefugeeFriends_00d54f0f-b281-3415-59da-2f83a62204d7]],
            pairNPCs = {
                [[S_WYR_RefugeeCamp_Refugee_15_92801b00-ec09-4d0d-990b-960c07de43e3]],
            },
            trigger = [[S_WYR_RefugeeCamp_Refugee_14_BackupPos_56c090c3-bdb3-4269-b473-2e6e0098381e]],
            animStart = [[CUST_WarmingByFire_01_Start_901742e2-f648-42cb-bfa1-4b5e55e58479]],
            animEnd = [[CUST_WarmingByFire_01_End_bcbfc7ca-11b4-44ad-b73e-f3d4862e86c5]],
            animLoops = {
                [[CUST_WarmingByFire_01_Loop_e2d0b8f4-00ae-49a4-a878-a9841fd78a96]],
            }
        },
        Valid = function()
            return GetFlag(tieflingsAreNotPresentFlag) and not halfOrc.Character.IsDead
        end
    }

    nodes.Fallback = Action {
        function()
            waitForCompletion()
        end
    }
end}