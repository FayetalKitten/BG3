game.states.LOW_CazadorsPalace_Ballroom_Werewolf_Beta = State {

    function()

        params.atCorpsePos = {
            type = EParamType.String,
            required = true,
        }

        params.atCorpseAD = {
            type = EParamType.String,
            required = true,
        }

        modules = { "shared.util", "shared.dialog" }

        local atCorpsePos = Entity(params.atCorpsePos)
        local atCorpseAD = Dialog(params.atCorpseAD)

        nodes.MoveToCorpse = Proxy{
            game.states.GLO_StandAtTrigger,
            params = {
                trigger = params.atCorpsePos,
                acceptanceRadius = 1.5,
            },
            CanEnter = function()
                return GetDistanceTo(me, atCorpsePos) > 1.0
            end
        }

        nodes.Talk = Action{
            function()
                LookFrom(atCorpsePos)
                mod.util.SleepRandom(3.0, 9.0)
                mod.dialog.StartCheckedAutomatedDialogRateLimited(
                    atCorpseAD,
                    {
                        waitForCompletion = true,
                        minDelay = 12.0
                    },
                    me
                )
                mod.util.SleepRandom(3.0, 9.0)
            end
        }
    end
}
